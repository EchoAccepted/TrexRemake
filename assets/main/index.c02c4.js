window.__require=function t(e,o,n){function i(a,u){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!u&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var c=o[a]={exports:{}};e[a][0].call(c.exports,function(t){return i(e[a][1][t]||t)},c,c.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({ActionClass:[function(t,e,o){"use strict";cc._RF.push(e,"f34dcOTzRpMPpEQz7C77Rhx","ActionClass"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(t){var e=this;this.trexStart=function(){return e.animateComponent.play("Move")},this.trexJump=function(){return e.animateComponent.play("Jump")},this.trexDie=function(){return e.animateComponent.play("Dead")},this.trexPause=function(){return e.animateComponent.pause()},this.trexStop=function(){return e.animateComponent.stop()},this.animateComponent=t},cc._RF.pop()},{}],Collision:[function(t,e,o){"use strict";cc._RF.push(e,"062478K4oBMd6WTDtVtsS25","Collision");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,u=a.ccclass,s=a.property,l=t("./Global"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentNode=null,e.historyNum=null,e.resetBtn=null,e.hitAudio=null,e}return i(e,t),e.prototype.jumpAnimateStop=function(){l.default.JumpAnimate.stop()},e.prototype.onCollisionEnter=function(){this.jumpAnimateStop(),cc.audioEngine.play(this.hitAudio,!1,.5),l.default.moveAction.trexStop(),l.default.moveAction.trexDie(),l.default.playStatus=!1,l.default.lifeStatus=!1;var t=this.currentNode.getComponent(cc.Animation);t.pause();var e=t.getAnimationState("Main").time;if(this.resetBtn.node.y=-100,e>l.default.historyRecord){l.default.historyRecord=e,this.historyNum.y=95;var o=this.historyNum.children[1].getComponent(cc.Animation);o.play("Main",l.default.historyRecord),o.pause(),o.setCurrentTime(l.default.historyRecord)}var n=setTimeout(function(){l.default.valid=!0,clearTimeout(n)},300)},r([s(cc.Node)],e.prototype,"currentNode",void 0),r([s(cc.Node)],e.prototype,"historyNum",void 0),r([s(cc.Button)],e.prototype,"resetBtn",void 0),r([s(cc.AudioClip)],e.prototype,"hitAudio",void 0),r([u],e)}(cc.Component);o.default=c,cc._RF.pop()},{"./Global":"Global"}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"470caxzlIdIDad41nE2nO89","Global"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={playStatus:!0,lifeStatus:!0,JumpAnimate:null,valid:!0,moveAction:null,historyRecord:0,initial:!0},cc._RF.pop()},{}],InstiatePrefab:[function(t,e,o){"use strict";cc._RF.push(e,"8f314lAMYpOEpRCGairFxvC","InstiatePrefab"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global");o.default=function(t,e){t.children.length>0&&t.removeAllChildren();for(var o=Math.floor(3*Math.random())+3,i=0;i<o;i++){var r=Math.floor(n.default.initial?4*Math.random():6*Math.random()),a=cc.instantiate(e[r]);a.parent=t,a.setPosition(-(2400/o*(i+1)+100*Math.random()*(Math.random()>=.5?-1:1)),0)}n.default.initial=!1},cc._RF.pop()},{"./Global":"Global"}],MainController:[function(t,e,o){"use strict";cc._RF.push(e,"1ef82iwv1hIQpjR5SBIHTuB","MainController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,u=a.ccclass,s=a.property,l=t("./ActionClass"),c=t("./Global"),p=t("./InstiatePrefab"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plantsArray=new Array,e.grounds=new Array,e.clouds=new Array,e.currentNode=null,e.jumpAudio=null,e.scoreAudio=null,e.resetBtn=null,e.jumpHeight=150,e.cloudSpeed=2,e.roadSpeed=5,e.blinkVaild=!0,e}return i(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.throttle,this),p.default(this.grounds[1],this.plantsArray),this.resetBtn.node.on("click",this.restart,this)},e.prototype.start=function(){c.default.playStatus=!1,cc.director.getCollisionManager().enabled=!0,c.default.moveAction=new l.default(this.node.getComponent(cc.Animation))},e.prototype.throttle=function(t){c.default.valid&&(c.default.valid=!1,this.onKeyDown(t))},e.prototype.onKeyDown=function(t){if(t.keyCode===cc.macro.KEY.space)if(!c.default.playStatus&&c.default.lifeStatus)c.default.playStatus=!0,c.default.moveAction.trexStart(),this.currentNode.getComponent(cc.Animation).play(),this.jumpAction();else if(c.default.playStatus&&c.default.lifeStatus)this.jumpAction();else{if(c.default.playStatus&&!c.default.lifeStatus)return;c.default.playStatus||c.default.lifeStatus||this.restart()}},e.prototype.jumpAction=function(){c.default.moveAction.trexJump(),cc.audioEngine.play(this.jumpAudio,!1,.5),this.jumpAnimate()},e.prototype.jumpAnimate=function(){c.default.JumpAnimate=cc.tween(this.node).by(.3,{position:cc.v3(0,this.jumpHeight,0)},{easing:"quadOut"}).by(.3,{position:cc.v3(0,-this.jumpHeight,0)},{easing:"quadIn"}).call(function(){c.default.valid=!0,c.default.moveAction.trexStart()}).start()},e.prototype.restart=function(){c.default.valid=!0,c.default.playStatus=!0,c.default.lifeStatus=!0,this.grounds[0].removeAllChildren(),this.grounds[1].removeAllChildren(),this.currentNode.getComponent(cc.Animation).play(),this.resetBtn.node.y=-500,this.node.y=-270,c.default.moveAction.trexStart(),c.default.initial=!0},e.prototype.update=function(){c.default.playStatus&&c.default.lifeStatus&&(this.clouds[0].x-=this.cloudSpeed,this.clouds[1].x-=this.cloudSpeed,this.grounds[0].x-=this.roadSpeed,this.grounds[1].x-=this.roadSpeed,this.grounds[0].x<=-480&&(this.grounds[0].setPosition(this.grounds[0].x+4800,this.grounds[0].y),p.default(this.grounds[0],this.plantsArray)),this.grounds[1].x<=-480&&(this.grounds[1].setPosition(this.grounds[1].x+4800,this.grounds[0].y),p.default(this.grounds[1],this.plantsArray)),this.clouds[0].x<=-600&&this.clouds[0].setPosition(this.clouds[0].x+1150,this.clouds[0].y),this.clouds[1].x<=-680&&this.clouds[1].setPosition(this.clouds[1].x+1200,this.clouds[1].y))},r([s([cc.Prefab])],e.prototype,"plantsArray",void 0),r([s([cc.Node])],e.prototype,"grounds",void 0),r([s([cc.Node])],e.prototype,"clouds",void 0),r([s(cc.Node)],e.prototype,"currentNode",void 0),r([s(cc.AudioClip)],e.prototype,"jumpAudio",void 0),r([s(cc.AudioClip)],e.prototype,"scoreAudio",void 0),r([s(cc.Button)],e.prototype,"resetBtn",void 0),r([s],e.prototype,"jumpHeight",void 0),r([s],e.prototype,"cloudSpeed",void 0),r([s],e.prototype,"roadSpeed",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./ActionClass":"ActionClass","./Global":"Global","./InstiatePrefab":"InstiatePrefab"}]},{},["ActionClass","Collision","Global","InstiatePrefab","MainController"]);